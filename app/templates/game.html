{% extends "base_arena.html" %}

{% block title %}ManaForge - Game Arena{% endblock %}


{% block content %}
<div
    id="game-interface-root"
    x-data="GameUI.gameInterface()"
    class="min-h-screen bg-arena-gradient relative game-container-1080 compact-zones"
    data-game-config='{{ {
        "gameId": game.id,
        "apiBaseUrl": "/api/v1"
    } | tojson | e }}'>

    <div class="mx-auto px-4 py-3 flex flex-col h-full">
        <!-- Fullscreen Button -->
        <button id="fullscreen-btn"
            title="Plein écran"
            class="absolute right-4 top-4 bg-arena-accent hover:bg-arena-accent-dark text-black px-3 py-2 rounded-lg shadow transition-colors focus:outline-none z-20"
            onclick="GameUI.toggleFullscreen()">
            ⛶
        </button>
        <!-- Notifications Area -->
        <div id="notifications-container" class="notifications-container">
            <!-- Notifications will be added here -->
        </div>
        
        <div class="grid grid-cols-1 xl:grid-cols-4 gap-4 flex-grow">
            <!-- Left Sidebar -->
            <div class="xl:col-span-1" id="stack-area">
                <!-- Left content will be generated by JavaScript -->
            </div>
            
            <!-- Main Game Area -->
            <div class="xl:col-span-2" id="game-board">
                <!-- Dynamic content will be generated by JavaScript -->
            </div>

            <!-- Right Sidebar -->
            <div class="xl:col-span-1 space-y-3" id="right-sidebar">
                {% include 'components/action_history.html' %}
                {% include 'components/chat.html' %}
            </div>
        </div>

    </div>
</div>

{% include 'components/scripts.html' %}
{% endblock %}
